<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/newpassword.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <form action='' method="post">
        {% csrf_token %}
        <div class="container">
            <div class="form-section">
                <div class="reset-icon"><i class="fa-solid fa-lock"></i></div>
                <h1>Reset password</h1>
                <p>Set your new password to login to GharKhoji.</p>
                
                <div class="input-group">
                    <div class="input-container">
                        <input type="password" placeholder="Enter new password" id="password" name="password" class="form-control {% if errors.password %}is-invalid{% endif %}">
                        <span class="icon-container" onclick="togglePassword('password', 'password-icon')">
                            <i class="fas fa-eye" id="password-icon"></i>
                        </span>
                    </div>
                    {% if errors.password %}
                        <div class="invalid-feedback">{{ errors.password }}</div>
                    {% endif %}
                </div>

                <div class="input-group">
                    <div class="input-container">
                        <input type="password" placeholder="Enter confirm password" id="confirmpassword" name="confirmpassword" 
                            class="form-control {% if errors.confirmpassword %}is-invalid{% endif %}">
                        <span class="icon-container" onclick="togglePassword('confirmpassword', 'confirmpassword-icon')">
                            <i class="fas fa-eye" id="confirmpassword-icon"></i>
                        </span>
                    </div>
                    {% if errors.confirmpassword %}
                        <div class="invalid-feedback">{{ errors.confirmpassword }}</div>
                    {% endif %}
                </div>

                <button type="submit" class="reset-button"><a href="{% url 'login' %}">Login</a></button>
            </div>    
        </div>
    </form>
    
    <script>
        // Function to toggle password visibility
        function togglePassword(fieldId) {
            var passwordField = document.getElementById(fieldId);
            var passwordIcon = document.getElementById(fieldId + "-icon");

            if (passwordField.type === "password") {
                passwordField.type = "text";
                passwordIcon.classList.remove("fa-eye");
                passwordIcon.classList.add("fa-eye-slash");
            } else {
                passwordField.type = "password";
                passwordIcon.classList.remove("fa-eye-slash");
                passwordIcon.classList.add("fa-eye");
            }
        }
    </script>
</body>
</html>
